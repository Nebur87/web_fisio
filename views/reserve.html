<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reserva - Eclosion Des Sens</title>
    <link rel="icon" type="image/png" href="../favicon.png">
    <link rel="stylesheet" href="../css/styles2.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="manifest" href="../manifest.json">

    <!-- Metadatos -->
    <meta name="description" content="Reserva tu cita de fisioterapia online. Sistema de reservas f√°cil y r√°pido." />
    <meta name="author" content="Eclosion Des Sens" />
    <meta name="keywords" content="reserva, cita, fisioterapia, masaje, online, Neuch√¢tel" />

</head>

<body>
    <header class="container">
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <a class="logo" href="../index.html"><img src="../assets/img/logo.blanco.jpg" alt="Eclosion Des Sens"></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html" data-translate="inicio">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./nous.html" data-translate="sobre_nosotros">Sobre Nosotros</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./services.html" data-translate="servicios">Servicios</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./galery.html" data-translate="galeria">Galer√≠a</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="./reserve.html" data-translate="reservar">Reservar</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./contact.html">Contacto</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./resenas.html" data-translate="resenas">Rese√±as</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Selector de idiomas -->
    <div class="idiomas-bar" style="display:flex;justify-content:center;gap:1.5rem;margin:1rem 0;">
        <a href="#" onclick="setLang('es')" title="Espa√±ol"><img src="../assets/img/espana.png" alt="Espa√±ol" width="32"
                height="32" style="border-radius:4px;"></a>
        <a href="#" onclick="setLang('fr')" title="Fran√ßais"><img src="../assets/img/francia.png" alt="Fran√ßais"
                width="32" height="32" style="border-radius:4px;"></a>
        <a href="#" onclick="setLang('de')" title="Deutsch"><img src="../assets/img/alemania.png" alt="Deutsch"
                width="32" height="32" style="border-radius:4px;"></a>
    </div>

    <main class="container mt-5">
        <section id="reserva" class="reserva-section">
            <div class="reserva-header text-center mb-5">
                <h1 class="reserva-titulo" data-translate="reserva_titulo">Reserva tu Cita</h1>
                <p class="reserva-subtitulo" data-translate="reserva_subtitulo">Agenda tu sesi√≥n de fisioterapia de forma r√°pida y sencilla</p>
            </div>

            <div class="row justify-content-center">
                <div class="col-lg-8 col-xl-6">
                    <div class="reserva-card">
                        <form id="reservaForm" novalidate>
                            <!-- Paso 1: Duraci√≥n -->
                            <div class="form-step active" id="step1">
                                <h3 class="step-title">
                                    <i class="fas fa-clock me-2"></i>
                                    <span data-translate="duracion">Selecciona la duraci√≥n</span>
                                </h3>
                                
                                <div class="duracion-options">
                                    <input type="radio" id="dur30" name="duracion" value="30" required>
                                    <label for="dur30" class="duracion-card">
                                        <div class="duracion-icon">30</div>
                                        <div class="duracion-text">
                                            <strong>30 minutos</strong>
                                            <small>Consulta</small>
                                        </div>
                                        <div class="duracion-precio">50 CHF</div>
                                    </label>

                                    <input type="radio" id="dur45" name="duracion" value="45" required>
                                    <label for="dur45" class="duracion-card">
                                        <div class="duracion-icon">45</div>
                                        <div class="duracion-text">
                                            <strong>45 minutos</strong>
                                            <small>Sesi√≥n est√°ndar</small>
                                        </div>
                                        <div class="duracion-precio">75 CHF</div>
                                    </label>

                                    <input type="radio" id="dur60" name="duracion" value="60" required>
                                    <label for="dur60" class="duracion-card recommended">
                                        <div class="duracion-badge" data-translate="recomendado">Recomendado</div>
                                        <div class="duracion-icon">60</div>
                                        <div class="duracion-text">
                                            <strong>60 minutos</strong>
                                            <small data-translate="tratamiento_completo">Tratamiento completo</small>
                                        </div>
                                        <div class="duracion-precio">100 CHF</div>
                                    </label>
                                </div>

                                <div class="form-navigation mt-4">
                                    <button type="button" class="btn btn-primary" onclick="nextStep(2)">
                                        Continuar <i class="fas fa-arrow-right ms-2"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Paso 2: Datos personales -->
                            <div class="form-step" id="step2">
                                <h3 class="step-title">
                                    <i class="fas fa-user me-2"></i>
                                    <span data-translate="nombre">Datos personales</span>
                                </h3>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="nombre" class="form-label">
                                            <i class="fas fa-user me-2"></i>
                                            <span data-translate="nombre">Nombre completo</span> *
                                        </label>
                                        <input type="text" class="form-control" id="nombre" required
                                               placeholder="Tu nombre completo">
                                        <div class="invalid-feedback">
                                            Por favor, ingresa tu nombre completo.
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-6 mb-3">
                                        <label for="email" class="form-label">
                                            <i class="fas fa-envelope me-2"></i>
                                            <span data-translate="email">Email</span> *
                                        </label>
                                        <input type="email" class="form-control" id="email" required
                                               placeholder="tu@email.com">
                                        <div class="invalid-feedback">
                                            Por favor, ingresa un email v√°lido.
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="telefono" class="form-label">
                                            <i class="fas fa-phone me-2"></i>
                                            Tel√©fono *
                                        </label>
                                        <input type="tel" class="form-control" id="telefono" required
                                               placeholder="+41 XX XXX XX XX">
                                        <div class="invalid-feedback">
                                            Por favor, ingresa tu tel√©fono.
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-6 mb-3">
                                        <label for="servicio" class="form-label">
                                            <i class="fas fa-hands me-2"></i>
                                            Tipo de servicio
                                        </label>
                                        <select class="form-select" id="servicio">
                                            <option value="masaje_clasico">Masaje Cl√°sico</option>
                                            <option value="masaje_deportivo">Masaje Deportivo</option>
                                            <option value="masaje_espalda_cuello">Masaje Espalda y Cuello</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-navigation mt-4">
                                    <button type="button" class="btn btn-outline-secondary me-2" onclick="prevStep(1)">
                                        <i class="fas fa-arrow-left me-2"></i> Anterior
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="nextStep(3)">
                                        Continuar <i class="fas fa-arrow-right ms-2"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Paso 3: Fecha y hora -->
                            <div class="form-step" id="step3">
                                <h3 class="step-title">
                                    <i class="fas fa-calendar-alt me-2"></i>
                                    <span data-translate="fecha">Fecha y hora</span>
                                </h3>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="fecha" class="form-label">
                                            <i class="fas fa-calendar me-2"></i>
                                            <span data-translate="fecha">Fecha</span> *
                                        </label>
                                        <input type="date" class="form-control" id="fecha" required>
                                        <div class="invalid-feedback">
                                            Por favor, selecciona una fecha.
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-6 mb-3">
                                        <label for="hora" class="form-label">
                                            <i class="fas fa-clock me-2"></i>
                                            <span data-translate="hora">Hora</span> *
                                        </label>
                                        <select class="form-select" id="hora" required>
                                            <option value="">Selecciona una hora</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Por favor, selecciona una hora.
                                        </div>
                                    </div>
                                </div>

                                <div id="horariosLoading" class="text-center mt-3" style="display: none;">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Cargando horarios...</span>
                                    </div>
                                    <p class="mt-2">Cargando horarios disponibles...</p>
                                </div>

                                <div class="mb-3">
                                    <label for="comentarios" class="form-label">
                                        <i class="fas fa-comment me-2"></i>
                                        Comentarios adicionales
                                    </label>
                                    <textarea class="form-control" id="comentarios" rows="3"
                                              placeholder="¬øAlgo m√°s que debamos saber? (opcional)"></textarea>
                                </div>

                                <div class="form-navigation mt-4">
                                    <button type="button" class="btn btn-outline-secondary me-2" onclick="prevStep(2)">
                                        <i class="fas fa-arrow-left me-2"></i> Anterior
                                    </button>
                                    <button type="submit" id="btnConfirmar" class="btn btn-success">
                                        <i class="fas fa-calendar-check me-2"></i>
                                        <span data-translate="confirmar">Confirmar Reserva</span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Mensaje de √©xito -->
            <div id="mensajeExito" class="alert alert-success d-none" role="alert">
                <i class="fas fa-check-circle me-2"></i>
                <strong>¬°Reserva confirmada!</strong> 
                <span id="mensajeExitoTexto">Tu cita ha sido agendada correctamente.</span>
            </div>

            <!-- Mensaje de error -->
            <div id="mensajeError" class="alert alert-danger d-none" role="alert">
                <i class="fas fa-exclamation-triangle me-2"></i>
                <strong>Error:</strong> 
                <span id="mensajeErrorTexto">Ha ocurrido un error al procesar tu reserva.</span>
            </div>
        </section>
    </main>

    <footer class="footer mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5 data-translate="contacto">Contacto</h5>
                    <p data-translate="direccion">üìç Eclosion des Sens<br>c/o Espace Fama√Øa<br>Av. des P√¢quiers 22<br>2072 St-Blaise</p>
                    <p data-translate="telefono">üìû 076 575 45 59</p>
                    <p data-translate="email">‚úâÔ∏è info@eclosiondessens.com</p>
                </div>
                <div class="col-md-6">
                    <h5>Horarios</h5>
                    <p>Jueves: 9:00 - 18:00</p>
                    <p>Un s√°bado cada dos: 9:00 - 16:00</p>
                </div>
            </div>
        </div>
        <div class="footer-bottom text-center mt-4 pt-4">
            <p class="copyright">&copy; 2024 Eclosion Des Sens. Todos los derechos reservados.</p>
            <div class="footer-links">
                <a href="./privacidad.html" data-translate="privacidad">Pol√≠tica de Privacidad</a>
                <a href="./cookies.html" data-translate="cookies">Pol√≠tica de Cookies</a>
                <a href="./aviso-legal.html" data-translate="aviso_legal">Aviso Legal</a>
            </div>
        </div>
    </footer>

    <script>
        window.localesJsonPath = '../locales.json';
    </script>
    <script src="../js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>